(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(26),r=c.n(s),o=(c(33),c(34),c(2)),l=c(10),i=c(9),d=c.n(i),j=c(6),b=c(0),h=function(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1];Object(n.useEffect)((function(){d.a.get("http://localhost:8000/api/authors").then((function(e){console.log(e.data),s(e.data.sort((function(e,t){return e.name.localeCompare(t.name)})))})).catch((function(e){console.log(e.response)}))}),[]);return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"d-flex flex-column",children:[Object(b.jsx)("div",{className:"row m-3",children:Object(b.jsx)("h1",{children:"Favorite Authors"})}),Object(b.jsx)("div",{className:"row mb-3 mx-3",children:Object(b.jsx)(j.b,{to:"/authors/new",children:Object(b.jsx)("h3",{children:"Add an author"})})}),Object(b.jsx)("div",{className:"row mb-3 mx-3",children:Object(b.jsx)("h3",{children:"We have quotes by:"})}),Object(b.jsx)("div",{className:"row mb-3 mx-3",children:Object(b.jsx)("div",{children:Object(b.jsxs)("table",{className:"table table-striped border border-dark border-2 w-50",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Author"}),Object(b.jsx)("th",{scope:"col",children:"Actions Available"})]})}),Object(b.jsx)("tbody",{children:a.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.name}),Object(b.jsxs)("td",{children:[Object(b.jsx)(j.b,{to:"/authors/".concat(e._id),children:Object(b.jsx)("button",{className:"mx-2 border-dark border-2 bg-info text-white",children:"Edit"})}),Object(b.jsx)("button",{onClick:function(t){var c;c=e._id,d.a.delete("http://localhost:8000/api/authors/"+c).then((function(e){var t=a.filter((function(e){return e._id!==c}));s(t)})).catch((function(e){console.log(e.response)}))},className:"border-dark border-2 bg-danger text-white",children:"Delete"})]})]},e._id)}))})]})})})]})})},u=function(e){var t,c=Object(o.h)().id,a=Object(n.useState)(""),s=Object(l.a)(a,2),r=s[0],i=s[1],h=Object(n.useState)(null),u=Object(l.a)(h,2),m=u[0],x=u[1],O=Object(o.g)();Object(n.useEffect)((function(){d.a.get("http://localhost:8000/api/authors/"+c).then((function(e){console.log(e.data),i(e.data.name)})).catch((function(e){console.log(e.response)}))}),[c]);return""===r?Object(b.jsxs)("div",{className:"container d-flex flex-column justify-content-center align-items-center",children:[Object(b.jsx)("img",{src:"https://thumbs.gfycat.com/OrdinaryImpeccableIndiancow-max-1mb.gif",alt:"one sparkly ring to rule them all loading",className:"align-self-center m-3"}),Object(b.jsx)("h3",{children:"You found the one ring, but you should really add a new author"}),Object(b.jsx)(j.b,{to:"/authors/new",children:Object(b.jsx)("h3",{children:"Add an author"})})]}):Object(b.jsxs)("div",{className:"d-flex flex-column",children:[Object(b.jsx)("div",{className:"row m-3",children:Object(b.jsx)("h1",{children:"Favorite Authors"})}),Object(b.jsx)("div",{className:"row mb-3 mx-3",children:Object(b.jsx)(j.b,{to:"/authors",children:Object(b.jsx)("h3",{children:"Home"})})}),Object(b.jsx)("div",{className:"row mb-3 mx-3",children:Object(b.jsx)("h3",{children:"Edit this author:"})}),Object(b.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault();var t={name:r};d.a.put("http://localhost:8000/api/authors/"+c,t).then((function(e){console.log(e.data),O.push("/authors")})).catch((function(e){x(e.response.data.errors)}))}(e)},className:"border border-dark border-2 m-3 w-50 container",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("label",{className:"form-label mx-3",children:"Name"}),(null===m||void 0===m?void 0:m.name)&&Object(b.jsxs)("span",{className:"text-danger",children:[" ",null===m||void 0===m||null===(t=m.name)||void 0===t?void 0:t.message]}),Object(b.jsx)("input",{onChange:function(e){i(e.target.value)},type:"text",className:"col form-control mx-3 ",value:r})]}),Object(b.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(b.jsx)(j.b,{to:"/authors",className:"col-auto",children:Object(b.jsx)("button",{className:"m-3 border-2 border-dark bg-info text-white",children:"Cancel"})}),Object(b.jsx)("input",{type:"submit",value:"Submit",className:"col-auto my-3 border-dark border-2 bg-info text-white"})]})]})]})},m=function(e){var t,c=Object(n.useState)(""),a=Object(l.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(null),h=Object(l.a)(i,2),u=h[0],m=h[1],x=Object(o.g)();return Object(b.jsxs)("div",{className:"d-flex flex-column",children:[Object(b.jsx)("div",{className:"row m-3",children:Object(b.jsx)("h1",{children:"Favorite Authors"})}),Object(b.jsx)("div",{className:"row mb-3 mx-3",children:Object(b.jsx)(j.b,{to:"/authors",children:Object(b.jsx)("h3",{children:"Home"})})}),Object(b.jsx)("div",{className:"row mb-3 mx-3",children:Object(b.jsx)("h3",{children:"Add a new author:"})}),Object(b.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault();var t={name:s};d.a.post("http://localhost:8000/api/authors",t).then((function(e){console.log(e.data),x.push("/authors")})).catch((function(e){m(e.response.data.errors)}))}(e)},className:"border border-dark border-2 m-3 w-50 container",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("label",{className:"form-label mx-3",children:"Name"}),(null===u||void 0===u?void 0:u.name)&&Object(b.jsxs)("span",{className:"text-danger",children:[" ",null===u||void 0===u||null===(t=u.name)||void 0===t?void 0:t.message]}),Object(b.jsx)("input",{onChange:function(e){r(e.target.value)},type:"text",className:"col form-control mx-3 "})]}),Object(b.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(b.jsx)(j.b,{to:"/authors",className:"col-auto",children:Object(b.jsx)("button",{className:"m-3 border-2 border-dark bg-info text-white",children:"Cancel"})}),Object(b.jsx)("input",{type:"submit",value:"Submit",className:"col-auto my-3 border-dark border-2 bg-info text-white"})]})]})]})};var x=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.a,{exact:!0,from:"/",to:"/authors"}),Object(b.jsx)(o.b,{exact:!0,path:"/authors",children:Object(b.jsx)(h,{})}),Object(b.jsx)(o.b,{exact:!0,path:"/authors/new",children:Object(b.jsx)(m,{})}),Object(b.jsx)(o.b,{exact:!0,path:"/authors/:id",children:Object(b.jsx)(u,{})})]})})},O=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(j.a,{children:Object(b.jsx)(x,{})})}),document.getElementById("root")),O()}},[[60,1,2]]]);
//# sourceMappingURL=main.02822bea.chunk.js.map